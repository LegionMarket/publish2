!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(n,e){this.$element=t(n),this.options=t.extend({},i.DEFAULTS,t.isPlainObject(e)&&e),this.init()}var n=t(document),e="qor.publish2",r="enable."+e,s="disable."+e,o="click."+e,l=".qor-publish2__version",a="qor-table__inner-list",d="qor-table__inner-block",u="."+a,c="."+d,f="qor-table--medialibrary";return i.prototype={constructor:i,init:function(){this.bind()},bind:function(){n.on(o,l,this.loadPublishVersion.bind(this))},unbind:function(){n.off(o,l,this.loadPublishVersion.bind(this))},loadPublishVersion:function(i){var n,e=t(i.target),r=e.data().versionUrl,s=e.closest("table"),o=e.closest("tr"),l=o.next(u).size(),b=o.find("td").size(),h=(s.hasClass(f),'<tr class="'+a+'"><td colspan="'+b+'"></td></tr>'),p=t('<div class="'+d+'"><div style="text-align: center;"><div class="mdl-spinner mdl-js-spinner is-active"></div></div></div>');return l?(t(u).remove(),!1):(t(u).remove(),o.after(h),n=t(u).find("td"),p.appendTo(n).trigger("enable"),r&&t.get(r,function(i){t(c).html(i).trigger("enable")}),!1)},destroy:function(){this.unbind(),this.$element.removeData(e)}},i.DEFAULTS={},i.plugin=function(n){return this.each(function(){var r,s=t(this),o=s.data(e);if(!o){if(/destroy/.test(n))return;s.data(e,o=new i(this,n))}"string"==typeof n&&t.isFunction(r=o[n])&&r.apply(o)})},t(function(){var n=".qor-theme-publish2";t(document).on(s,function(e){i.plugin.call(t(n,e.target),"destroy")}).on(r,function(e){i.plugin.call(t(n,e.target))}).triggerHandler(r)}),i});